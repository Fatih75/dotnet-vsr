@using dotnet_core.Models

@{
    ViewData["Title"] = "Home Page";
    var account = ViewData["Account"] as Account;
}

<h2>@ViewData["Title"].</h2>
<h3>@ViewData["Message"]</h3>

<p>@account.Username</p>

@foreach(var message in @account.Messages)
{
    <p>@message.PostDate</p>
    <br/>
    <p>@message.ID: @message.Text</p>
    <br/>
@Html.ActionLink("Like", "Like", "Home", new { messageId = @message.ID, accountId = @account.ID }, new { @class = "btn btn-primary btn-large" })
@Html.ActionLink("Favorite", "Favorite", "Home", new { messageId = @message.ID, accountId = @account.ID }, new { @class = "btn btn-primary btn-large" })
}

@model Message

@if(@account != null)
{
    @using (Html.BeginForm("Index", "Home", FormMethod.Post)) 
    {
    @Html.TextAreaFor(m => m.Text)

    <input type="submit" value="Post Message" />
    }
}